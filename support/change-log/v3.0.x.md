---
vssueId: 72
description: 本文描述了Kuboard_v3.x的版本变更说明
---

# Kuboard v3.x

<AdSenseTitle/>

<CurrentVersionV3/>

<!-- 

* Immutable Secrets and ConfigMaps
  https://kubernetes.io/docs/setup/release/notes/#immutable-secrets-and-configmaps
  Immutable Secrets and ConfigMaps graduates to GA. This feature allows users to specify that the contents of a particular Secret or ConfigMap is immutable for its object lifetime. For such instances, Kubelet will not watch/poll for changes and therefore reducing apiserver load.

* Storage Capacity
  https://docs.k8s.io/concepts/storage/storage-capacity/

* 存储卷声明监控 Grafana
  支持的K8S版本： 1.19

golang 文档

## 实现 ingress-nginx conf 命令的网页版
kubectl ingress-nginx conf -n ingress-nginx --host ingress-nginx.test.k8s19


在 kuboard 删除 cronjob 不会继续删除执行完成的容器. 使用kubectl时会将资源全部删除的.


名称空间首页通过拖拽的方式调整工作负载所在的分层。


环境变量中引用 metadata.annotations、metadata.labels
https://kubernetes.io/docs/tasks/inject-data-application/_print/#capabilities-of-the-downward-api



提示用户为什么对象删除不掉 【重要】


日志缓存可以选择 最大 50000行，但是每次缓存到 10000 行时，就断开连接。

@邵欢庆 发现一个小bug，用只有只读权限的用户从1这个地方点下载日志，没有弹出下载日志页面，从2这个地方点，才能打开下载日志的页面：
各位大佬验证下看看是不是，我用firefox和chrome浏览器都试了，问题一致。


使用 crictl 指令验证 docker 镜像仓库密码


* longhorn PV【待解决】

* 设置列表页表格最大高度【待处理】


cortex 解决 promethues 的多租户问题
loki 默认支持多租户

Service.spec.ports[*].appProtocol

提示最小建议的权限设置；

重置密码后，应该将密码错误次数调整为 0


超过 100MB 的文件上传失败的问题。

权限不够的情况下，不能在工作负载编辑器中使用节点标签选择器的问题。

* proxy 在未登录时，提示登录，并返回原界面   (暂不支持此特性)
* cronjob 支持时区设置   （Kubernetes 接口目前不支持设置时区）


* 工作负载详情页，根据匹配标签显示 Service 列表
* 显示 Deployment 和 StatefulSet 的历史更新数量

 -->

## v3.5.2.7

**发布日期**

2024年6月22日

**问题修正**

* 修订容器组列表重启次数计算错误的问题

## v3.5.2.6

**发布日期**

2023年8月20日

**优化**

* 使用 token / kubeconfig 导入集群时，apiserver 地址必须包含端口号

**问题修正**

* 使用 token 导入集群时，KuboardProxy 不能正常工作的问题

## v3.5.2.5

**发布日期**

2023年8月6日

**优化**

* 使用 token 添加集群

**问题修正**

* 容器详情页面-下载日志按钮的鉴权问题
* Deployment 回滚时应该使用原 ReplicaSet 的标签
* 修复安全扫描漏洞 /sso/.well-known/openid-configuration 信息泄露

## v3.5.2.4

**发布日期**

2023年4月16日

**问题修正**

* 在 K8S 版本低于 v1.21 时，CronJob 页面手工触发时，不能创建 Job 的问题
* 漏洞扫描时存在的 Swagger API 信息泄露漏洞问题。解决办法，启动时增加选项 KUBOARD_DISABLE_SWAGGER=true

## v3.5.2.3

**发布日期**

2023年3月12日

**问题修正**

* AccessKey 过期时，调用kuboard接口导致文件句柄泄漏的问题

## v3.5.2.2

**发布日期**

2023年2月26日

**优化**

* Terminal 界面可以切换到 cmd / powershell

**问题修正**

* 修正浏览器端 javascript 代码存在的内存泄漏问题
* 部分情况下，检查证书有效期页面不能正常工作的问题

## v3.5.2.1

**优化**

* 调整终端界面/日志界面的主题色

**问题修正**

* 集群版本大于 v1.25 时，集群概要页面，不能正确显示 Master 节点标记的问题
* 审计日志 WS 标签检索结果不正确的问题

## v3.5.2.0

**发布日期**

2023年1月27日

**新特性**

* 支持 metrics-scraper，可以显示节点/容器组三十分钟内的 CPU/内存 使用情况

**优化**

* metrics-server 版本更新到 v0.6.2 并兼容 amd64 及 arm64 版本

**问题修订**

* k8s 版本不低于 v1.25 时，安装 metrics-server 向导不能正确完成的问题
* k8s 版本不高于 v1.17 时，安装 metrics-server 不能正常工作的问题
* metrics-server 应使用 8443 端口，而不是 443 端口

## v3.5.1.1

**发布日期**

2023年1月15日

**问题修订**

* 在 CronJob 详情页手工触发 Job 时，适配 v1.20.x 版本或更低版本

## v3.5.1.0

**发布日期**

2023年1月2日

**新特性**

* 高可用部署 Kuboard（暂不支持审计日志的高可用部署）

**问题修订**

* 修订部分情况下 KuboardProxy 对话框不能打开的问题
* 修订 service 详情页编辑按钮鉴权的问题

## v3.5.0.3

**发布日期**

2022年6月26日

**问题修订**

* 不能导入 kubernetes v1.24 的问题

## v3.5.0.2

**发布日期**

2022年5月28日

**问题修订**

* 从低版本升级到 v3.5 时，部分情况下，不能访问集群的问题

## v3.5.0.1

**发布日期**

2022年5月18日

**问题修订**

* 部分情况下，更新到 v3.5.0.0后，不能访问集群的问题
* 适配 Linux 5.x 内核的问题

## v3.5.0.0

**发布日期**

2022年5月15日

**新特性**

* 支持 kuboard 的高可用部署
* 可以设置 admin 的初始默认密码，环境变量 `KUBOARD_ADMIN_DERAULT_PASSWORD`

**问题修订**

* 存储卷列表部分情况下不能显示的问题
* `kuboard-adm reset-password` 用户 admin 未设置双因子认证时，重置密码出错的问题

## v3.4.1.0

**发布日期**

2022年4月17日

**新特性**

* 手工触发定时任务

**优化**

* 优化容器状态信息的展示
* 在名称空间首页显示 CronJob
* etcd 启动参数中增加 snapshot-count=10000

## v3.4.0.0

**发布日期**

2022年4月10日

**新特性**

* 名称空间标签
  * 将原菜单项 `资源请求/配额` 调整为 `名称空间设置`
  * 可以设置名称空间标签
  * 可以为名称空间选择 PodSecurityAdmission Profile（k8sVersion >= v1.23）
* securityContext
  * 可以设置 securityContext.seccompProfile（k8sVersion >= v1.19）
  * 可以设置 securityContext.windowsOptions（k8sVersion >= v1.18）

**优化**

* 可以清除 bool 值
* 工作负载详情页，可以显示容器状态

**问题修正**

* dns config中，options 的值可以为空
* 容忍的 key 可以为空

## v3.3.0.8

**发布日期**

2022年3月27日

**优化**

* 终端界面支持 powershell

## v3.3.0.7

**发布日期**

2022年3月6日

**优化**
* 可以更新 kubeconfig
* 优化 imagePullSecret 选择器的提示信息

**问题修正**
* 修改集群描述信息时导致部分信息丢失的问题
* 适配 K8S v1.22 / v1.23
  * 删除工作负载时，不能删除 Ingress 的问题
  * 导出工作负载时，不能选择 Ingress 的问题

## v3.3.0.6

**发布日期**

2022年1月17日

**问题修正**

* 当 k8s 版本不低于 1.22 时，Kuboard 工作负载详情页不能显示 Ingress 的问题

## v3.3.0.5

**发布日期**

2022年1月12日

**问题修正**

* 部分情况下，不能删除已失效集群的问题

## v3.3.0.4

**发布日期**

2022年1月9日

**优化**

* 优化终端界面的字体
* 工作负载中没有容器时，存储卷挂载页提示用户先添加容器

**问题修正**

* 编辑容器组信息时，容器生命周期回调的命令行未正确显示的问题
* [#297](https://github.com/eip-work/kuboard-press/issues/297) 用户枚举问题

## v3.3.0.3

**发布日期**

2021年12月5日

**问题修正**

* IngressController 表单校验问题；
* 可以在集群导入页同步集群的版本信息到 Kuboard；

## v3.3.0.2

**发布日期**

2021年11月28日

**问题修正**

* StatefulSet 的存储卷声明不能正常保存
* 不能正常创建 Job 的问题

## v3.3.0.1

**发布日期**

2021年11月21日

**优化**

* 优化创建 IngressController 的对话框

**问题修正**

* 安装监控套件时，未将 prometheus 的启动状态考虑进初始化检查的问题：
* 导入工作负载时，替换镜像地址失效的问题

## v3.3.0.0

**发布日期**

2021年11月14日

**优化**

* K8s 版本不低于 v1.21 时，NetworkPolicy 支持 .spec.egress.*.ports.*.endPort

**问题修正**

* 节点状态显示错误的问题

## v3.3.0.0-beta.1

**发布日期**

2021年11月7日

**新特性**

* 支持 CronJob
  * 列表页优化
  * 详情页
  * 编辑页
* 支持 Job
  * 列表页优化
  * 详情页
  * 编辑页

**优化**

* 列表页排除无效的 apiVersion

## v3.2.1.1

**发布日期**

2021年10月31日

**问题修正**

* 命令行终端的权限校验问题
* kuboard-viewer 权限验证问题

## v3.2.1.0

**发布日期**

2021年10月17日

**新特性**

* 支持网络策略 NetworkPolicy

## v3.2.0.1

**发布日期**

2021年10月10日

**优化**

* 校验 kubeconfig 文件的完整性

**问题修订**

* 在 K8S 中安装时，不能正确创建 `default` 集群的问题
  
## v3.2.0.0

**发布日期**

2021年10月7日

**新特性**

* 使用 kubeconfig 导入集群（不需要安装 kuboard-agent）

**优化**

* 提示：当 k8s 版本不低于 v1.20.0 时，文件浏览器中 `上传文件到容器` 的功能不能正常工作
* PodDetails 中显示所在节点的链接；

**问题修订**

* 导入工作负载
  * PVC 校验问题
  * 未创建生成的 PVC 的问题

## v3.1.7.1

**发布日期**

2021年9月25日

**优化**

* 双因子认证
  * 管理员禁止用户在登录界面使用 “7天内保持登录” 的选项
  * LDAP 登录方式可以支持双因子认证
  * 仅在内建用户库或者 ldap 登录时，可以设置双因子认证策略

* 加载 metrics 信息失败时，给出更详细的错误提示

**问题修正**

* LDAP 登录方式不能成功登录的问题

## v3.1.7.0

**发布日期**

2021年9月21日

**新特性**

* 双因子认证
  * 用户设置双因子认证
  * 用户取消双因子认证
  * 用户重置双因子认证
  * 用户登录时校验双因子验证码
  * 用户使用恢复码重置双因子认证
  * 管理员取消某个用户的双因子认证
  * 管理员强制所有用户使用双因子认证
  * `kuboard-admin reset-password` 的同时重置 admin 的双因子认证

**优化**

* 可以关闭事件消息通知

**问题修正**

* 修订KuboardProxy在部分情况下失败时的错误提示信息

## v3.1.6.1

**发布日期**

2021年9月12日

**新特性**

* 文件浏览器
  * 可以修改文件（夹）的属性 chmod
  * 可以解压缩 tar / tar.gz / tgz / tar.Z / tar.bz2 文件
  * 开放上传/下载文件的功能

**优化**

* ConfigMap 编辑界面
  * 布局优化
  * 可以粘贴 properties / ini 文件内容
* Secret 编辑界面
  * 布局优化
  * 可以粘贴 properties / ini 文件内容
* 使用 [metric-server v0.5.0](https://github.com/kubernetes-sigs/metrics-server/releases/tag/v0.5.0)；
* 容器组列表页（TopPods），在缺失 metrics-server 时提示用户安装 metrics-server；

**问题修订**

* 容器组列表页，点击刷新按钮时出现 404 错误；
* 打开 RoleBinding 失败的问题

## v3.1.6.0


**发布日期**

2021年9月5日


**优化**

* 告警设置
  * 常见问题中，提示如何配置告警消息
  * 支持 webhook 的基本配置
  * 告警消息中包含所属集群名称
* 容器组列表页中，逐批次加载
* 安装 kuboard-agent 时，如果使用自定义镜像地址，可以快速拷贝 docker pull 指令
* 匹配 ingress-nginx v1.0.0，并支持 Kubernetes v1.22
* 工作负载编辑器：提示镜像仓库密码不可选的原因

**问题修订**

* 告警设置
  * wechat_api_url 不能重置的问题
* 激活 **隐藏帮助链接** 选项后 `帮助` 文字仍然显示的问题
* 第二阶段授权，创建 RoleBinding 时不能选择 `Role` 的问题

## v3.1.6.0-beta.1

**发布日期**

2021年8月31日

**新特性**

* 可以配置监控套件发送告警信息

**问题修订**

* 部分情况下 tooltip 不能正常显示内容的问题
* 缺少 cookie 时访问 kuboard-proxy，导致程序退出的问题
* 菜单向左收缩时，部分菜单项的文字未隐藏的问题

## v3.1.5.0

**发布日期**

2021年8月15日

**优化**

* 适配 Kubernetes v1.21
  * 支持 immutable ConfigMap
  * 支持 immutable Secret
* 适配 Kubernetes v1.22
  * 使用 customresourcedefinitions 的 v1 接口
    * 适配 kuboardaddons / kuboardaddonresources
    * 适配 kuboardlayouts
  * ingress-nginx 版本提升到 v0.48.1
    * 在集群 v1.22 中安装 ingress-nginx 时，提示版本不兼容
* 当集群中存在虚拟节点时（例如阿里云 AKS 中的虚拟节点），修订集群概览页的节点内存汇总数据
* 显示常见问题的链接

## v3.1.4.3

**发布日期**

2021年8月8日

**优化**

* 审计日志--优化终端界面上所执行命令的审计日志记录
  * 处理 Home / End 键带来的影响
  * 处理 Pageup / Pagedown 键带来的影响
  * 处理 Esc 键带来的影响
  * 处理 Tab 键带来的影响
  * 处理一次 Backspace 删除多个字符的情况
* 优化节点列表页的字段宽度

**问题修订**
* 部分情况下，在工作负载编辑器中选择 ImagePullSecret 时出错
* 根据当前用户的权限决定是否显示列表页的批量删除按键

## v3.1.4.2

**发布日期**

2021年8月1日

**新特性**

* 审计日志
  * 可以记录用户在终端界面上执行过的命令
  * 可以查询用户在终端界面上执行过的命令 
  * 用户进入终端界面时，提示其操作将被记录到审计日志
* 可以重置 `admin` 的密码

**优化**

* 替换 replaceAll 方法，提高对版本低于 chrome 85 / firefox 77 / safari 13.1 等浏览器的兼容性
* Windows 环境下的样式细节优化

## v3.1.4.1

**发布日期**

2021年7月25日

**优化**

* 审计日志
  * 可以清理审计日志
  * 降低 QuestDB 连接问题出现的概率
  * QuestDB 连接出现问题时，提示用户可以禁用审计功能
* 集群概览页，节点样式中不恰当的换行问题
* Docker仓库密码对话框，`显示密码` 按钮的提示文字修订
* 优化 Ingress Controller 负载均衡转发的提示

## v3.1.4.0

**发布日期**

2021年7月18日

**优化**

* 可以将同一个集群导入到不同的 Kuboard 实例中
* 审计日志
  * 异步插入审计日志到 QuestDB，以优化性能并提高稳定性
  * 为审计数据库增加索引
* 名称空间首页可以选择工作负载的排序方式

**问题修正**

* 解决部分情况下，审计日志详情信息显示错误的问题


## v3.1.4.0-beta.1

**发布日期**

2021年7月11日

**新特性**

* 支持审计日志

**优化**

* 连续多次点击面包屑中的刷新按钮，可能导致页面数据不能正常加载的问题
* 节点详情页， YAML 不能编辑的问题
* Deployment/StatefulSet/DaemonSet 列表显示镜像标签

**问题修正**

* 对于已创建状态的集群页面，左侧菜单不能正常显示的问题


## v3.1.3.0

**发布日期**

2021年6月27日

**优化**

* 用户首次访问某集群时，需要先选择所使用的身份，优化提示用户选择身份信息所出现的位置
* 节点列表显示节点的暂停调度状态信息
* Service 列表页显示端口信息
* Headerless Service 隐藏 KuboardProxy
* Role/ClusterRole 页面应该可以删除 Binding
* 第二阶段授权可以下拉选择用户、用户组

**问题修正**

* k8s v1.21 开始，使用 `node-role.kubernetes.io/control-plane` 标识主节点导致 kuboard-etcd 不能正常调度的问题
* 进入集群的 Dashboard 页之后，如果名称空间的名称与集群的名称相同，则点击该名称空间无效的问题

## v3.1.3.0-beta.1

**发布日期**

2021年6月20日

**新特性**

* Ingress
  * 快速安装 ingress-nginx-controller
  * 对 ingress-nginx 可以用下拉菜单的形式选择注解的 key

**优化**

* 在 Ingress 查看页编辑 YAML 之后，刷新 Ingress 页面的内容

## v3.1.2.1

**发布日期**

2021年6月20日

**新特性**

* 可以查看 Kuboard 已发布接口的 swagger 文档

**优化**

* Ingress 添加新的路径映射时，设置默认路径匹配方式为 Prefix
* 点击 `关闭在线帮助入口` 时，提示页面将要跳转，避免丢失未保存的信息
* 可以禁用启用访问时段控制规则

**问题修正**

* 使用 github/gitlab 单点登录时，用户第一次登录失败的问题
* 用户信息页跳转到 role / clusterrole 页面时的链接错误
* 在不同集群的同名名称空间之间切换时，未重新初始化名称空间权限表的问题
* 工作负载编辑器
  * 存在多个容器端口且端口名为空时，不应该提示`端口不能重名`的问题
  * 非 kuboard-admin 身份不能选择 IngressClass 的问题
  * 不能清除 podAntiAffinity 的问题

## v3.1.2.0

**发布日期**

2021年6月14日

**新特性**

* Ingress
  * 在支持 networking.k8s.io/v1beta1 的同时，增加对 networking.k8s.io/v1 的兼容；
  * 可以编辑默认后端；

**优化**

* 名称空间首页
  * 如果某个分层中没有工作负载，则不显示该分层；
* 简化在 K8S 中部署 Kuboard 的步骤，并降低部署难度；
* 工作负载编辑器
  * Service.spec.selector 的标签值可以为空字符串；
  * ConfigMap 列表未空时，ConfigMap 选择器不能快速创建 ConfigMap 的问题；
  * Secret 列表未空时，Secret 选择器不能快速创建 Secret 的问题；
  * 设置环境变量界面中，使用 ConfigMap 和 SecretKey 时会带来样式上的兼容性问题
  * Service编辑时，externalIPs字段的 Tooltip 为空的问题
* 可以隐藏在线聊天帮助的入口
* 可以调整访问时段控制规则的顺序
* 导入集群
  * 导入新的集群时，取消 kuboard-agent 的 udp 连接协议选项（用户导入时碰到问题的几率高），原来使用 UDP 协议导入的集群仍然可以正常使用
  * 优化集群导入时的提示信息
  * 导入集群成功后，需要刷新页面才能正常访问该集群的问题

**问题修正**

* 工作负载编辑器
  * 修改 spec.serviceAccountName 不生效的问题
  * Ingress 路径映射时，不能选择同名 Service 的问题

## v3.1.2.0-beta.1

**发布日期**

2021年6月6日

**新特性**

* 可以针对名称空间配置访问时段控制规则（仅在 Kuboard 生效）

## v3.1.1.10

**发布日期**

2021年6月6日

**新特性**

* 在线帮助入口

**优化**

* 检查浏览器 Cookie 是否启用，未启用 Cookie 时，不能登录 Kuboard
* 工作负载详情页
  * Deployment 更新策略的备注
* 工作负载编辑器
  * 环境变量的 Value 中间可以带空格；

**问题修正**

* 存储类详情
  * 创建 NFS StorageClass 时，如果使用私有镜像仓库，镜像标签错误的问题；
  * 打开 StorageClass 详情时，YAML 预览应该显示更多相关联的对象；
* 工作负载详情页
  * FireFox 浏览器，编辑自动伸缩时，退出编辑模式的问题

## v3.1.1.9

**发布日期**

2021年5月30日

**新特性**

* 工作负载编辑器
  * 支持节点亲和性
  * 支持容器组间亲和性
  * 支持容器组间反亲和性

**优化**

* 安装 metrics-server 时，尽量将其调度到 master 节点
* 容器组详情页可以刷新 metrics 信息
* 可以为 docker hub 的私有仓库设置访问密码
* 不允许 https://demo.kuboard.cn 的 demo 用户修改密码

**问题修正**

* 工作负载编辑器
  * 删除数据卷时，volumeMount 错位的问题；
* 创建存储卷声明时，如果存在未配置 .metadata.annotations 字段的存储类，不能选取存储类的问题；

## v3.1.1.8

**发布日期**

2021年5月23日

**优化**

* 存储类
  * 可以在 Kuboard 中限制存储类的可用名称空间（只在 Kuboard 界面中生效）
* 工作负载编辑器
  * 可以将数据卷挂载到同一个容器的不同路径
  * 标签/注解的值可以为空字符串
  * 简化 image 字段的输入
* 工作负载详情页
  * 编辑 Hpa 时，进行表单校验
  * 编辑 Hpa 后，`取消`、`保存` 不恰当出现的问题
  * 可以显示 Hpa 的状态，以及 Hpa 关联的事件
  * 校验容器名称
* metrics-server
  * 可以删除 metrics-server
  * 新装 metrics-server 时，版本调整为 0.4.4
* 阿里云托管集群已登录用户缺少 `system:basic-user` 角色导致的授权问题
* 新建 NFS StorageClass 时
  * 使用 https://github.com/kubernetes-sigs/nfs-subdir-external-provisioner v4.0.2
* YAML
  * 导出精简的 YAML
  * 预览精简的 YAML

**问题修正**

* 工作负载编辑器
  * 复制工作负载时，serviceName 字段未能正常更新的问题
* 工作负载详情页
  * 部分情况下，编辑 Hpa 时，不能保存的问题

## v3.1.1.7

**发布日期**

2021年5月16日

**新特性**

* 工作负载编辑器
  * 可以为 StatefulSet 创建 governingService
* 提供 `日志聚合套件 EFK`

**优化**

* 工作负载编辑器
  * 支持容器的 workingDir 字段
  * 校验名称空间中是否存在同名的工作负载
  * 禁止直接编辑标签 `k8s.kuboard.cn/layer`、`k8s.kuboard.cn/name`
  * 支持 Service 的 `publishNotReadyAddresses` 字段
* 工作负载详情页
  * 删除 StatefulSet 时，同时删除 `spec.serviceName` 指定的 Service
  * 批量删除 StatefulSet 时，同时删除 `spec.serviceName` 指定的 Service
  * 去掉打开页面时的展开收起动画
* 预览 YAML 时
  * 可以隐藏 managedFields 字段
  * 可以显示 StatefulSet 的 governingService
* 创建存储卷声明时，校验是否存在同名存储卷声明

**问题修正**

* 事件处理
  * 部分情况下，事件显示乱序的问题
  * 部分情况下，出现重复事件的问题
* 部分情况下，容器组列表出现重复对象的问题
* 部分情况下，不能调整镜像版本的问题
* 保存 Secret 后，labels 字段丢失的问题
* 安装套件时 KUBERNETES_CLUSTER 参数应该是只读的（只在 v3.1.1.5、v3.1.1.6 中出现这个问题）

## v3.1.1.6

**发布日期**

2021年5月9日

**优化**

* 工作负载详情页
  * 事件较多（大于300）时，优化页面性能表现

* 工作负载编辑器
  * StatefulSet 中可以显示和修改 serviceName 字段

**问题修正**

* 节点详情页
  * 切换名称空间时出现 404 错误
* 导入工作负载
  * 私有镜像仓库映射镜像名称的问题
* 存储卷声明详情页，删除存储卷声明后，应返回列表页


## v3.1.1.5

**发布日期**

2021年5月5日


**优化**

* 导入工作负载
  * 优化 NodePort 的页面布局
  * 优化数据卷步骤的表单校验

* 工作负载编辑器
  * 根据 K8S 版本支持情况显示 `spec.template.spec.containers[*].startupProbe`
  * 增加探针用途说明
  * 增加 hostPort 字段的说明
  * 配置字典选择器，可以快速创建配置字典
  * 密文选择器，可以快速创建密文

* 工作负载详情页
  * 可以显示容器的环境变量
  * 可以显示容器的数据卷挂载情况
  * 可以显示 starupProbe

* 密文、配置字典
  * 可以保留 value 为空的条目

* 套件安装
  * 增加 StorageClass 类型的参数，避免因为存储类参数填写错误导致的套件安装失败
  * 资源监控套件不能离线安装的问题

* KuboardProxy
  * 只使用 Cookie 中的 Token，避免与应用的 `Authorization` HTTP Header 产生冲突

**问题修正**

* 工作负载编辑器
  * StatefulSet 时，不能添加第二个 volumeClaimTemplate 的问题
  * `StatefulSet.spec.serviceName` 如果与工作负载名称不一致时，修改 StatefulSet 不能保存的问题
  * `spec.template.spec.containers[*].capabilities.add` 必须为 string
* 工作负载详情页
  * 部分情况下不能显示容器的内存使用指标的问题
* v1.20 及以上版本，删除 Ingress 失败的问题
* 导入工作负载
  * 部分情况下不能导入工作负载的问题
  * 部分情况下，创建 Service 失败的问题


## v3.1.1.4

**发布日期**

2021年4月24日

**新特性**

* 工作负载编辑器
  * 可以设置 spec.template.spec.setHostnameAsFQDN
  * 可以设置 spec.template.spec.serviceAccountName

**优化**

* 工作负载详情页
  * 切换 Pod 时，刷新 pod 的 metrics
  * 细化容器组的状态显示
  * 可以显示 event 的 count

**BUG 修正**

* 工作负载编辑器
  * spec.containers[*].readinessProbe.tcpSocket.port 字段兼容数字和字符串
  * spec.containers[*].resources.limits.cpu 等字段清除后不能保存的问题
  * spec.containers[*].ports[*].hostPort 字段不能被清除的问题
  * service.spec.type 从 NodePort 修改为 ClusterIP 时，service.spec.ports[*].nodePort 未清空的问题
  * StatefulSet 应该设置 spec.serviceName 字段
  * 删除数据卷时导致不能保存的问题
  * 编辑 ConfigMap / Secret 类型的数据卷时，如果原本没有配置 KeyToPath，不能添加 KeyToPath 的问题
  * 编辑 Service 时，如果原有 spec.ports 字段未配置，不能添加端口的问题
* 复制工作负载
  * Service 保存失败的问题
  * 修改 layer 时，service.spec.selector 未更新的问题


## v3.1.1.3

**发布日期**

2021年4月18日

**BUG修正**

* selfInfo 页面的布局问题
* 点击 “不在显示通知” 后跳转到 404 的问题
* TopPod 页面切换名称空间时出现 404 的问题
* Ingress / Service 创建页中取消按钮出现 404 的问题
* 工作负载编辑器
  * maxUnavailable 需兼容字符串和数字类型
  * 默认分层时，不添加对应的 Label

## v3.1.1.2

**发布日期**

2021年4月11日

**优化**

* 工作负载详情页
  * 显示容器的 Command、Env
* 优化 ConfigMap 界面

**BUG修正**

* 工作负载编辑器
  * resources.limits 和 resources.requests 缺少其一时，不能显示资源请求/限制模块
  * 编辑 Service 时，不允许将 Service 类型修改为 Headless

## v3.1.1.1

**发布日期**

2021年4月7日

**优化**

* 完善节点列表字段

**BUG修正**

* 工作负载编辑器
  * 创建工作负载时，名称空间未正确设置的问题
  * Probe.initialDelaySeconds 等字段类型错误
  * Ingress TLS 启用时，修改 rule.host，但是 tls.*.hosts 未同步的问题
  * 复制工作负载时，Service.spec.clusterIP 未被清除的问题


## v3.1.1.0

**发布日期**

2021年4月5日

**优化**

* 工作负载编辑器
  * 显示容器的默认资源请求/响应
  * 容器生命周期回调
  * 存储挂载表单校验
* ReplicaSet 悬浮时显示镜像的版本；
* 记住工作负载页面的展开状态（仅在当前会话中）

**BUG修正**

* spec.type === 'ClusterIP' && spec.clusterIP === 'None' 时，应该被判定为 Headless Service
  * 列表
  * 编辑器
  * 查看页面
* 工作负载列表页，批量重启后，状态不正确的问题
* 工作负载编辑器（仅在 v3.1.1-beta.1 中出现如下 BUG）
  * 不能复制工作负载的 BUG
  * ImagePullSecret 重复的问题
  * 填写镜像时输入 `/` 后 RepoType 被重置的问题
* 在名称空间列表中删除名称空间后，不能正常刷新列表的问题
* 编辑节点标签后，页面不能正常刷新的问题


## v3.1.1-beta.1

**发布日期**

2021年3月28日

**新特性**

* 新版工作负载编辑器
* Service 创建/编辑页面
* Ingress 创建/编辑页面

**优化**

* 工作负载页面显示容器的资源请求/限制

**BUG修正**

* 复制工作负载时
  * 跨集群校验名称的问题；
  * 开始复制后应该关闭复制请求对话框的问题；
* Service 详情页删除按钮无效的问题；

## v3.1.0.6

**发布日期**

2021年3月14日

**新特性**

* 设置名称空间的资源配额；
* 显示 LimitRange 列表；

**优化**

* 事件：
  * 显示 Deployment/StatefulSet/DaemonSet 的关联事件；
  * 显示 ReplicaSet 的关联事件；
  * 显示 Service 的关联事件；
  * 显示 Ingress 的关联事件；
* 列表页适配 API 接口版本；
* 名称空间内的页面可以显示 Kuboard 版本；

**BUG修正**

* 显示 pvc 详情页时，菜单栏高亮条目不正确的问题；
* 工作负载详情页，应用路由为空时提示；

## v3.1.0.5

**发布日期**

2021年3月8日

**优化**

* 显示 Ingress 详情页
* Service 详情页显示 targetRef 为空的 Address

**BUG修正**

* 复制工作负载时，Service创建失败的问题

## v3.1.0.4

**发布日期**

2021年3月7日

**新特性**

* Service 详情页
  * 显示 Service 的后端地址及对应的容器组；
  * 根据 Service 的 labelSelector 查询容器组列表；
* 复制工作负载

**优化**

* 导出工作负载时，可以选择任意类型的对象
* 优化工作负载的菜单
* pvc 页面可以显示相关的事件
* 分页显示事件，避免事件过多时，事件列表页打不开的问题
* dryRun 出错时，允许强制继续执行

**BUG修正**

* Deployment 页面中，无法显示容器所消耗CPU内存的情况
* 当集群版本为 v1.13 - v1.15 时，不能正确显示CRD列表的问题
* 不能自定义名称空间布局的问题

## v3.1.0.3

**发布日期**

2021年2月25日

**优化**

* 检查证书有效期：
  * 不检查 kubelet 的证书有效期，因为 apiserver 访问 kubelet 时不校验证书，kubeadm 也并未提供更新 kubelet server 证书的方法；

**BUG修正**

* 导入集群时，如果选择自定义镜像，不能保存的问题；

## v3.1.0.2

**发布日期**

2021年2月21日

**优化**

* 新版本检测：点击忽略此版本时，关闭提示框；
* 证书有效期检测页面：Issuer名称过长时导致的样式问题；
* 屏幕分辨率低时，不能显示退出按钮的问题；
* 可以修改登录页左侧标题；

## v3.1.0.1

**发布日期**

2021年2月19日

**BUG修正**

* 使用非内建用户库（GitHub、GitLab、LDAP等）不能正常登录的问题；

## v3.1.0

**发布日期**

2021年2月17日

**新特性**

* 调整为新的外观样式；
* 工作负载详情页：
  * 可以显示 Event 详情；
  * 可以显示当前工作负载的 Owner；
  * 容器信息
    * 容器端口支持 KuboardProxy；
    * 提示容器是否配置了探针；
  * StatefulSet
    * 可以显示 StatefulSet 的 PodManagementPolicy；
    * 可以显示和编辑 StatefulSet 的 updateStrategy；
  * DaemonSet
    * 可以显示和编辑 DaemonSet 的 updateStrategy；
    * 可以显示 DaemonSet 当前的可用副本数；
* 工作负载编辑页：
  * 可以指定 StatefulSet 的 PodManagementPolicy；
* 可以通过表单编辑名称空间布局；
* 可以自定义密码策略；
* 可以检查 kubelet / apiserver 的证书过期时间；

**优化**

* 节点详情页可以显示该节点相关的事件；
* 优化等宽字体；
* 优化显示时间的方式；
* 创建 NFS 类型的 StorageClass 时，可以从私有镜像仓库下载 nfs-client-provisioner 镜像；

**BUG修正**

* 全局 TopPods 页面缺少左侧菜单的问题；
* 不能记录用户最后登录时间的问题；
* 工作负载详情页可能存在的Pod监听线程过多的问题（仅在 v3.0.1-beta.1 中出现）；
* 上传文件时，文件大小如果超过 4K，最终的结果不正确；

## v3.0.1-beta.1

**发布日期**

2021年2月6日

**优化**

* 工作负载详情页：
  * 重构 Deployment 详情面；
  * 重构 StatefulSet 详情页；
  * 重构 DaemonSet 详情页；
* 集群列表页面中，以弹出框的形式打开集群入口，避免集群卡片过多时可能产生的样式混乱；

**BUG修正**

* TopPods 页面：
  * 排序按钮的链接错误；
  * CPU 单位为 `m` 时，不能正确显示 cpu 使用量的问题；

## v3.0.0.5

**发布日期**

2021年1月31日

**优化**

* 重构菜单结构；
* 当 metrics 信息显示出现问题时，可以重置 metrics-server；
* 终端界面缺少权限时，做出正确的错误提示；
* 工作负载界面可以快速创建存储卷声明；
* CICDApi
  * 当用户具备集群的 kuboard-admin 权限时，使用 kuboard-admin 与集群交互，否则使用当前选中的集群身份；
* 访问密钥：
  * 可以修改访问密钥；
  * 可以显示访问密钥最后使用的时间；

**BUG修正**

* 安装 ceph-csi-plugin 出错的问题；
* 用户只具备集群级别权限时，不能查看和修改个人信息的问题；
* 新加入集群需刷新页面才能正常显示版本信息及 Dashboard 的问题；

## v3.0.0.4

**发布日期**

2021年1月24日

**新特性**

* 可以将任意页面设置为默认页，下次登录时，直接进入默认页；
* 可以设置 Default StorageClass

**优化**

* 优化切换集群/名称空间界面的显示效果；
* 部分情况下 api-server 404 响应不为 JSON 格式时，导致不能创建工作负载的问题；
* 可以忽略版本更新提示，不弹出提示窗口；
* Deployments 列表、StatefulSets 列表：
  * 为每个条目增加伸缩按钮；
  * 可以按分层查询；

**BUG修正**

* Kuboard Proxy 的鉴权问题
  * 日志套件给普通用户授权的问题
  * 监控套件给普通用户授权的问题
* 编辑工作负载时，丢失原有 `spec.updateStrategy` 及 `metadata.ownerReferences` 字段的问题


## v3.0.0.3

**发布日期**

2021年1月17日

**新特性**

* 可以创建、查询和删除访问密钥；

**优化**

* 集群列表页，点击某个集群后可以立刻选择名称空间；
* 进入集群页面后，页头不显示定制名称的问题；
* 创建用户、用户组时，名称中不能包含 `.`；
* nfs-client-provisioner
  * 提供适配 amd64 / arm64 的镜像下载；
  * Kubernetes v1.20 缺少 selfLink 字段，导致 NFS Provisioner 不能正常工作的问题；
* 去掉文件编辑器的授权文件校验；

**BUG修正**

* 名称空间首页 --> 调整镜像版本按钮的链接错误；
* CICD 对接接口适配 v3.0；
* 使用非内建用户库登录时，KUBOARD_ROOT_USER 没有足够权限的问题；
* 切换集群以后，集群对象界面的套件菜单未正确调整的问题；
* 当 Kubernetes 版本小于 v1.16 时，metrics-server 不能正常启动的问题；
* `nvidia.com/gpu` `amd.com/gpu` 字段不能正常保存的问题；

## v3.0.0.2

**发布日期**

2021年1月11日

**优化**

* 切换集群时，可以直接选择名称空间；
* 使用 `kubectl apply` 在 K8S 集群中安装 kuboard-agent，而不是 `kubectl create`

**BUG修正**

* 版本 v3.0.0.1 中，不能进入新导入集群的问题；

## v3.0.0.1

**发布日期**

2021年1月10日

**新特性**

* 使用 kuboard-admin [扮演](/learning/k8s-advanced/sec/authenticate/#用户扮演) 当前用户操作 Kubernetes
* 可以 [调度 GPU 资源](/learning/k8s-practice/gpu/gpu.html)

**优化**

* 名称空间列表页
  * 可以创建名称空间
  * 可以删除名称空间
* 工作负载
  * 伸缩时最大副本数从20调整为100
  * 工作负载名称的最短长度从3调整为2
* PVBrowser 支持 aws-ebs 类型的存储卷

**BUG修正**

* 导入导出工作负载
  * 通过工作负载导入向导安装 metrics-server 失败的问题
  * 导入导出工作负载时出现的错误
  * 优化导入集群时的提示信息
* 当节点信息中缺少 emphral-size 字段时，不能显示节点详情
* 名称空间首页中，鼠标指针移动到工作负载顶部时，工作负载不断闪烁的问题

## v3.0.0

**发布日期**

2021年1月3日

**新特性**

* 可以部署到 Kubernetes 集群；
* 可以删除已导入集群；
* 导入工作负载时：
  * 可以实现容器镜像标签的映射；
  * 可以选择是否将 Deployment/StatefulSet 的副本数重置为 1；

**优化**

* 优化切换集群时的交互方式；
* 显示当前已激活集群的数量；
* arm64 版本兼容：
  * metrics-server 版本调整为 v0.4.1，并支持 arm64；
  * kuboard-pv-browser 支持 arm64；
* 可以从私有镜像仓库中抓取 kuboard-agent 镜像；
* CephFS 对接
  * 通过 CSIDriver 对象来判断集群是否已安装了 CephCSI；
  * 将 ceph-csi 版本调整为 v3.2.0；
  * 通过 swr.cn-east-2.myhuaweicloud.com 分发镜像；

**BUG修复**

* Nginx 反向代理适配；
* 如果集群处于已导入状态，切换到集群的按钮不可用的问题；
* k3s 中的对象缺少 .metadata.selfLink 字段引起的兼容性问题：
  * 不能删除 HPA 对象；
  * 批量伸缩工作负载失败；
  * CustomResource 列表中，不能显示对象所属的 CustomResourceDefinition；


## v3.0.0-beta.5

**发布日期**

2020年12月24日

**新特性**

* Arm CPU 兼容：
  * kuboard 兼容 arm64 CPU；
  * kuboard-agent 兼容 arm64 CPU；

**BUG修复**

* 日志/终端界面的鉴权问题；
## v3.0.0-beta.4

**发布日期**

2020年12月21日

**BUG修复**

* 新添加集群的授权问题；
* 部分情况下，Kuboard 启动失败的问题；
* KuboardEndpoint 域名解析失败时，不能登录 Kuboard 的问题；
## v3.0.0-beta.3

**发布日期**

2020年12月20日

**新特性**

* 登录 Kuboard 时，可以选择是否在一周内记住登录状态；

**BUG修复**

* 环境变量 KUBOARD_ROOT_USER 指定的用户应该具备所有权限；
* 使用 GitHub / GitLab 登录时，普通用户不能查询集群列表时，显示出错；
* 部署在 K8S 环境中时，可能出现的不能连接上 etcd 的问题；
* 不能编辑集群描述的问题；
* 授权文件在 Kuboard v3.0 中的适配问题；


## v3.0.0-beta.2

**发布日期**

2020年12月13日

**新特性**

* 新增套件扩展点
  * 集群上下文
  * 名称空间上下文
  * 工作负载上下文
* 资源监控套件
  * 基于 kube-prometheus 重新实现资源监控套件
  * 完成资源监控套件在 Kuboard v3.0.0 的适配

**优化**

* 日志聚合套件增加日志轮转相关的参数；
* 优化工作负载导入向导；

**BUG修复**

* CRD 列表页只能查询 default 名称空间下的 CRD；
* 自定名名称空间布局的按钮链接错误；
* Kuboard Agent 的默认版本错误的问题；
* 不能提示新版本信息的问题；

## v3.0.0-beta.1

**发布日期**

2020年12月6日

**优化**

* 检查 KuoardAgent 的版本，并在必要时引导用户升级 KuboardAgent
* 提示 KuboardEndpoint 填写错误时导致的登录失败

**BUG修复**

* Kuboard v3.0 适配：
  * KuboardProxy 在 v3.0 的适配问题；
  * 日志聚合套件在 v3.0 的适配问题；
* 在工作负载编辑页点击取消时，跳转到错误链接的问题；

## v3.0.0-alpha.5

**发布日期**

2020年11月29日

**优化**

* 登录后重定向到原请求页面，而不是根路径；
* 日志/终端界面
  * 日志/终端界面，查找窗口的位置不再遮挡终端区域；
  * 提高控制台、日志界面的初始化速度；
* 将 metrics-server 版本替换为 0.4.1；
* 强调 Tab 标签的样式；
* 集群列表页按集群状态排序；
* 集群导入页：
  * 增加名称空间布局设定；
  * 将套件列表调整到集群导入页；
  * 增加授权方式，只允许用户以 sso-user 的方式访问 Kubernetes 集群
* 集群切换：
  * 优化集群切换时的引导提示；
  * 提高集群切换时的加载速度；

**BUG修复**

* Kuboard v3.0 适配：
  * ClusterRole/Role/ServiceAccount/User/Group 等授权对象在 v3.0 的适配问题；
  * CephFS 在 v3.0 的适配问题；
  * KuboardProxy 在 v3.0 的适配问题；
  * PVBrower 在 v3.0 版本下安装及使用时的适配问题；
  * 事件通知窗口的链接错误问题；
  * 显示用户访问集群所用身份信息的详情；
  * Pod 列表页点击查询按钮后跳转到 404 页面的问题；
  * 切换名称空间时的链接跳转问题；

## v3.0.0-alpha.4

**发布日期**

2020年11月18日

**新特性**

* 被纳管 Kubernetes 与 Kuboard 实现单点认证登录
  * 使用 SSOToken 管理 Kubernetes 集群；
  * Kuboard Agent 通过 http proxy 或者 socks proxy 连接 Kuboard Agent Server 时，不能激活 Kubernetes 与 Kuboard 的单点认证；

**优化**

* 首页引导用户自定义页面标题；

**BUG修正**

* 单点认证模式下，用户/用户组详情页面下面包屑导航错误
* 安装 metrics-server 时，不能加载到 yaml 文件的错误

## v3.0.0-alpha.3

**发布日期**

2020年11月15日

**新特性**

* Kuboard 与上游系统实现单点认证登录
  * GitLab 单点认证登录
  * GitHub 单点认证登录
  * LDAP 单点认证登录
* 单点登录模式下的用户授权

**BUG修正**

* 通用设置 --> 修改页脚文字时，输入框默认不应该为空
* 集群概览页 --> StorageClass 列表、PV 列表 的链接错误


## v3.0.0-alpha.2

**发布日期**

2020年11月10日

**新特性**
* 支持 TLS 、 Lets Encrypts；

**优化**

* Web 服务使用标准端口 80 / 443
* 点击后才弹出集群切换窗口，避免悬停弹出分散用户注意力；
* 优化创建集群时的提示信息；

**BUG修正**
* 创建用户时，部分特殊电子信箱地址校验不通过；

* 节点详情页，如果节点的容器组数量太多，不能显示该页面的问题；
* CustomResourceList 页的链接错误；
* User/Group 列表页的链接错误；


## v3.0.0-alpha.1

**发布日期**

2020年11月8日

**新特性**

* 主版本升级，调整了 Kuboard 的架构：
  * 支持多 Kubernetes 集群管理
  * 内建用户库
  * 优化导航栏及菜单的结构
  * 不再部署在 Kubernetes 集群当中，而是作为一个独立的容器部署在集群之外
  * 使用 golang 重写后端代码，不再使用 openresty lua
